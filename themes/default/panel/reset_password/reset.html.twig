{% extends 'base.html.twig' %}

{% block body_class 'page-login' %}
{% block title %}{{ get_title() }} | {{ 'pteroca.recovery.change_password'|trans }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ template_asset('css/app.css') }}">
    <link rel="stylesheet" href="{{ template_asset('css/panel.css?v=' ~ get_app_version()) }}">
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-12">
                {% include '@EasyAdmin/flash_messages.html.twig' %}

                <div class="login-wrapper">
                    <header class="main-header register-header">
                        <div id="header-logo">
                            <div class="logo">
                                <img src="{{ get_logo() }}" alt="{{ get_title() }}" class="panel-login-logo">
                            </div>
                        </div>
                    </header>
                    <section class="content">
                        <div class="login-title">
                            {{ 'pteroca.recovery.change_password'|trans }}
                        </div>
                        {% if error|default(false) %}
                            <div class="w-100 alert alert-danger rounded mb-3">
                                <i class="fas fa-times-circle mr-1"></i>
                                {{ error.messageKey|trans(error.messageData, 'security') }}
                            </div>
                        {% endif %}

                        {{ form_errors(resetForm) }}

                        {{ form_start(resetForm) }}
                        <div class="form-group">
                            <label class="form-control-label required" for="newPassword">{{ field_label(resetForm.newPassword) }}</label>
                            <div class="form-widget">
                                <input type="password" id="newPassword" name="{{ field_name(resetForm.newPassword) }}" class="form-control" required autofocus autocomplete="new-password">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label required" for="confirmPassword">{{ field_label(resetForm.confirmPassword) }}</label>
                            <div class="form-widget">
                                <input type="password" id="confirmPassword" name="{{ field_name(resetForm.confirmPassword) }}" class="form-control" required autocomplete="new-password">
                            </div>
                        </div>

                        <div class="form-group">
                            <button type="submit" class="btn btn-lg btn-block">{{ 'pteroca.recovery.change_password'|trans }}</button>
                        </div>
                        {{ form_end(resetForm) }}
                    </section>
                    <div class="col-12 text-center mt-2 powered-by">
                        Powered by <a href="https://pteroca.com" target="_blank">Pteroca v{{ get_app_version() }}</a> &copy; {{ 'now'|date('Y') }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
